<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Open 3D Engine Atom Gem API Reference: AZ::RHI::DrawListContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine Atom Gem API Reference
   &#160;<span id="projectnumber">2107.1 (Developer Preview)</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_a_z.html">AZ</a></li><li class="navelem"><b>RHI</b></li><li class="navelem"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html">DrawListContext</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_a_z_1_1_r_h_i_1_1_draw_list_context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AZ::RHI::DrawListContext Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;DrawListContext.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acc29476ea862e83f5dac3b3c5c94d64e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc29476ea862e83f5dac3b3c5c94d64e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#acc29476ea862e83f5dac3b3c5c94d64e">AZ_DISABLE_COPY_MOVE</a> (<a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html">DrawListContext</a>)</td></tr>
<tr class="memdesc:acc29476ea862e83f5dac3b3c5c94d64e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies and moves are disabled to enforce thread safety. <br/></td></tr>
<tr class="separator:acc29476ea862e83f5dac3b3c5c94d64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fcb11394bc641aa441578019178076"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7fcb11394bc641aa441578019178076"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsInitialized</b> () const </td></tr>
<tr class="separator:ae7fcb11394bc641aa441578019178076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd10ea44ec296068fcef8752e352ebd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cd10ea44ec296068fcef8752e352ebd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#a3cd10ea44ec296068fcef8752e352ebd">Init</a> (DrawListMask drawListMask)</td></tr>
<tr class="memdesc:a3cd10ea44ec296068fcef8752e352ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called prior to adding draw items. Defines the set of draw list tags to filter into. <br/></td></tr>
<tr class="separator:a3cd10ea44ec296068fcef8752e352ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02447fa4918546dc48c98c542e8891bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02447fa4918546dc48c98c542e8891bd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Shutdown</b> ()</td></tr>
<tr class="separator:a02447fa4918546dc48c98c542e8891bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c526a31c3b0cbe6bc10fcb272e7175d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#a9c526a31c3b0cbe6bc10fcb272e7175d">AddDrawPacket</a> (const <a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_packet.html">DrawPacket</a> *drawPacket, float depth=0.0f)</td></tr>
<tr class="separator:a9c526a31c3b0cbe6bc10fcb272e7175d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77c34200205d8355d646bc11f6b6199"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#ae77c34200205d8355d646bc11f6b6199">AddDrawItem</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">DrawListTag</a> drawListTag, <a class="el" href="struct_a_z_1_1_r_h_i_1_1_draw_item_properties.html">DrawItemProperties</a> drawItemProperties)</td></tr>
<tr class="separator:ae77c34200205d8355d646bc11f6b6199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e9e7f5faf3b1dc9c70896e596cbee4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#a08e9e7f5faf3b1dc9c70896e596cbee4">FinalizeLists</a> ()</td></tr>
<tr class="separator:a08e9e7f5faf3b1dc9c70896e596cbee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9921ef6d196309ed265e1d2016accbff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9921ef6d196309ed265e1d2016accbff"></a>
DrawListView&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#a9921ef6d196309ed265e1d2016accbff">GetList</a> (<a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">DrawListTag</a> drawListTag) const </td></tr>
<tr class="memdesc:a9921ef6d196309ed265e1d2016accbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the draw list associated with the provided tag. <br/></td></tr>
<tr class="separator:a9921ef6d196309ed265e1d2016accbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8615378a1f74c54ca5496c7d16202a"><td class="memItemLeft" align="right" valign="top">DrawListsByTag &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_list_context.html#a2a8615378a1f74c54ca5496c7d16202a">GetMergedDrawListsByTag</a> ()</td></tr>
<tr class="separator:a2a8615378a1f74c54ca5496c7d16202a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is a context for filling and accessing draw lists. It is designed to be thread-safe and low-contention. To use it, initialize with the a bit-mask of draw list tags. This mask acts as a filter. The API is partitioned into two phases: append and consume.</p>
<p>In the append phase, draw packets (or singular draw items) are added to the context. These are filtered into the table of draw lists. This is thread-safe and low contention.</p>
<p>Call FinalizeLists to transition to the consume phase. This performs sorting and coalescing of draw lists.</p>
<p>Finally, in the consume phase, the context is immutable and lists are accessible via GetList. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae77c34200205d8355d646bc11f6b6199"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RHI::DrawListContext::AddDrawItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_handle.html">DrawListTag</a>&#160;</td>
          <td class="paramname"><em>drawListTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_z_1_1_r_h_i_1_1_draw_item_properties.html">DrawItemProperties</a>&#160;</td>
          <td class="paramname"><em>drawItemProperties</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an individual draw item to the draw list associated with the provided tag. This will no-op if the tag is not present in the internal draw list mask. </p>

</div>
</div>
<a class="anchor" id="a9c526a31c3b0cbe6bc10fcb272e7175d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RHI::DrawListContext::AddDrawPacket </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_a_z_1_1_r_h_i_1_1_draw_packet.html">DrawPacket</a> *&#160;</td>
          <td class="paramname"><em>drawPacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>depth</em> = <code>0.0f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filters the draw items in the draw packet into draw lists. Only draw lists specified at init time are appended. The depth value here is the depth of the object from the perspective of the view. </p>

</div>
</div>
<a class="anchor" id="a08e9e7f5faf3b1dc9c70896e596cbee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AZ::RHI::DrawListContext::FinalizeLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Coalesces the draw lists in preparation for access via GetList. This should be called from a single thread as a sync point between the append / consume phases. </p>

</div>
</div>
<a class="anchor" id="a2a8615378a1f74c54ca5496c7d16202a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DrawListsByTag&amp; AZ::RHI::DrawListContext::GetMergedDrawListsByTag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the collection of merged draw lists. This is only so that the View can sort the merged draw lists and isn't intended for use outside that case. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/Atom/RHI/Code/Include/Atom/RHI/DrawListContext.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 24 2023 21:24:59 for Open 3D Engine Atom Gem API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
