<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Open 3D Engine SurfaceData Gem API Reference: SurfaceData::SurfacePointList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Open 3D Engine SurfaceData Gem API Reference
   &#160;<span id="projectnumber">2107.1 (Developer Preview)</span>
   </div>
   <div id="projectbrief">O3DE is an open-source, fully-featured, high-fidelity, modular 3D engine for building games and simulations, available to every industry.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>SurfaceData</b></li><li class="navelem"><a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_surface_data_1_1_surface_point_list-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SurfaceData::SurfacePointList Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SurfacePointList.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1a50f4ace4aeb74b1527bc8a7e5a10e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a50f4ace4aeb74b1527bc8a7e5a10e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_CLASS_ALLOCATOR</b> (<a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>, AZ::SystemAllocator)</td></tr>
<tr class="separator:a1a50f4ace4aeb74b1527bc8a7e5a10e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c98a522ea3220d2f00504d49061a48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75c98a522ea3220d2f00504d49061a48"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AZ_TYPE_INFO</b> (<a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>,&quot;{DBA02848-2131-4279-BDEF-3581B76AB736}&quot;)</td></tr>
<tr class="separator:a75c98a522ea3220d2f00504d49061a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11baa93fc4bb62f3335e6dc6c408b181"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11baa93fc4bb62f3335e6dc6c408b181"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a11baa93fc4bb62f3335e6dc6c408b181">Clear</a> ()</td></tr>
<tr class="memdesc:a11baa93fc4bb62f3335e6dc6c408b181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the surface point list. <br/></td></tr>
<tr class="separator:a11baa93fc4bb62f3335e6dc6c408b181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa086b8f6988b657497bbcf14ddfb26b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#aaa086b8f6988b657497bbcf14ddfb26b">SurfacePointList</a> (AZStd::span&lt; const AzFramework::SurfaceData::SurfacePoint &gt; surfacePoints)</td></tr>
<tr class="separator:aaa086b8f6988b657497bbcf14ddfb26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4987a925d0abcd04304aff3c9ddc2606"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a4987a925d0abcd04304aff3c9ddc2606">StartListConstruction</a> (AZStd::span&lt; const AzFramework::SurfaceData::SurfacePoint &gt; surfacePoints)</td></tr>
<tr class="separator:a4987a925d0abcd04304aff3c9ddc2606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994072350b7b3a180598b45277a76d31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a994072350b7b3a180598b45277a76d31">StartListConstruction</a> (AZStd::span&lt; const AZ::Vector3 &gt; inPositions, size_t maxPointsPerInput, AZStd::span&lt; const <a class="el" href="class_surface_data_1_1_surface_tag.html">SurfaceTag</a> &gt; filterTags)</td></tr>
<tr class="separator:a994072350b7b3a180598b45277a76d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a5242ac726419c845c197a7e0f60af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a95a5242ac726419c845c197a7e0f60af">AddSurfacePoint</a> (const AZ::EntityId &amp;entityId, const AZ::Vector3 &amp;inPosition, const AZ::Vector3 &amp;position, const AZ::Vector3 &amp;normal, const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;weights)</td></tr>
<tr class="separator:a95a5242ac726419c845c197a7e0f60af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42b77ec65615081917265116a3e720a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ae42b77ec65615081917265116a3e720a">ModifySurfaceWeights</a> (const SurfaceDataRegistryHandle &amp;surfaceModifierHandle)</td></tr>
<tr class="separator:ae42b77ec65615081917265116a3e720a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a8095f6f422a5289cb9bf75e3c48dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ae5a8095f6f422a5289cb9bf75e3c48dd">EndListConstruction</a> ()</td></tr>
<tr class="separator:ae5a8095f6f422a5289cb9bf75e3c48dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4a1a6ad587ee176bc18897542f790b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ace4a1a6ad587ee176bc18897542f790b">IsEmpty</a> () const </td></tr>
<tr class="separator:ace4a1a6ad587ee176bc18897542f790b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57f1e8c72e9138c93458adc2d5169bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ad57f1e8c72e9138c93458adc2d5169bf">IsEmpty</a> (size_t inputPositionIndex) const </td></tr>
<tr class="separator:ad57f1e8c72e9138c93458adc2d5169bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b09008d60d90539776228bf6c0d604"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a11b09008d60d90539776228bf6c0d604">GetSize</a> () const </td></tr>
<tr class="separator:a11b09008d60d90539776228bf6c0d604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d89c654274d2141b7d886b543eb2977"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a2d89c654274d2141b7d886b543eb2977">GetSize</a> (size_t inputPositionIndex) const </td></tr>
<tr class="separator:a2d89c654274d2141b7d886b543eb2977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32f22b2d41a468e5b9548919651c815"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ae32f22b2d41a468e5b9548919651c815">GetInputPositionSize</a> () const </td></tr>
<tr class="separator:ae32f22b2d41a468e5b9548919651c815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32927478e0e38611aace5c26fbb48e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#aa32927478e0e38611aace5c26fbb48e4">EnumeratePoints</a> (AZStd::function&lt; bool(size_t inputPositionIndex, const AZ::Vector3 &amp;position, const AZ::Vector3 &amp;normal, const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;surfaceWeights)&gt; pointCallback) const </td></tr>
<tr class="separator:aa32927478e0e38611aace5c26fbb48e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10333d0761f13bfe6441872f02981bbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a10333d0761f13bfe6441872f02981bbf">EnumeratePoints</a> (size_t inputPositionIndex, AZStd::function&lt; bool(const AZ::Vector3 &amp;position, const AZ::Vector3 &amp;normal, const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;surfaceWeights)&gt; pointCallback) const </td></tr>
<tr class="separator:a10333d0761f13bfe6441872f02981bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2036c188da013aebb1b71642f5e1bf43"><td class="memItemLeft" align="right" valign="top">AzFramework::SurfaceData::SurfacePoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#a2036c188da013aebb1b71642f5e1bf43">GetHighestSurfacePoint</a> (size_t inputPositionIndex) const </td></tr>
<tr class="separator:a2036c188da013aebb1b71642f5e1bf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a2f1e55eb4637f469ffd9d6b292964"><td class="memItemLeft" align="right" valign="top">AZ::Aabb&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_surface_data_1_1_surface_point_list.html#ac1a2f1e55eb4637f469ffd9d6b292964">GetSurfacePointAabb</a> () const </td></tr>
<tr class="separator:ac1a2f1e55eb4637f469ffd9d6b292964"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a240a684bf280aa1cf44ee480ddc40a38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a240a684bf280aa1cf44ee480ddc40a38"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FilterPoints</b> (AZStd::span&lt; const <a class="el" href="class_surface_data_1_1_surface_tag.html">SurfaceTag</a> &gt; desiredTags)</td></tr>
<tr class="separator:a240a684bf280aa1cf44ee480ddc40a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b5d767bb29ec4f0f83b846ac3210cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17b5d767bb29ec4f0f83b846ac3210cc"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetInPositionIndexFromPosition</b> (const AZ::Vector3 &amp;inPosition) const </td></tr>
<tr class="separator:a17b5d767bb29ec4f0f83b846ac3210cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbbb375c511ebdb47e4ad3d735a3464"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cbbb375c511ebdb47e4ad3d735a3464"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetSurfacePointStartIndexFromInPositionIndex</b> (size_t inPositionIndex) const </td></tr>
<tr class="separator:a3cbbb375c511ebdb47e4ad3d735a3464"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a19431aada7cd4ab6f4bd297d5ac790c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19431aada7cd4ab6f4bd297d5ac790c1"></a>
AZStd::span&lt; const <a class="el" href="class_surface_data_1_1_surface_tag.html">SurfaceTag</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_filterTags</b></td></tr>
<tr class="separator:a19431aada7cd4ab6f4bd297d5ac790c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31803f21dac2f8a541293b10702ad38d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31803f21dac2f8a541293b10702ad38d"></a>
AZStd::span&lt; const AZ::Vector3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_inputPositions</b></td></tr>
<tr class="separator:a31803f21dac2f8a541293b10702ad38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f6ff045531f3f6a9982df23ecc9f8f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55f6ff045531f3f6a9982df23ecc9f8f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_inputPositionSize</b> = 0</td></tr>
<tr class="separator:a55f6ff045531f3f6a9982df23ecc9f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505282eafafc670fd4b6131b82902953"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a505282eafafc670fd4b6131b82902953"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_lastInputPositionIndex</b> = 0</td></tr>
<tr class="separator:a505282eafafc670fd4b6131b82902953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360fec9083667d5f6bc5b7f7f2c61c6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a360fec9083667d5f6bc5b7f7f2c61c6a"></a>
AZStd::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_numSurfacePointsPerInput</b></td></tr>
<tr class="separator:a360fec9083667d5f6bc5b7f7f2c61c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8192f5c65b878bccfaacaf6d5311dd8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8192f5c65b878bccfaacaf6d5311dd8"></a>
AZ::Aabb&#160;</td><td class="memItemRight" valign="bottom"><b>m_surfacePointBounds</b> = AZ::Aabb::CreateNull()</td></tr>
<tr class="separator:ac8192f5c65b878bccfaacaf6d5311dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7821604d9fc9461c6e1f5d0e76318e60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7821604d9fc9461c6e1f5d0e76318e60"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_maxSurfacePointsPerInput</b> = 0</td></tr>
<tr class="separator:a7821604d9fc9461c6e1f5d0e76318e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c0c3810ce63eb5820f258cd3ecc41c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21c0c3810ce63eb5820f258cd3ecc41c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_listIsBeingConstructed</b> = false</td></tr>
<tr class="separator:a21c0c3810ce63eb5820f258cd3ecc41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15665f09fa6636c71ca609609d0196d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15665f09fa6636c71ca609609d0196d7"></a>
AZStd::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_sortedSurfacePointIndices</b></td></tr>
<tr class="separator:a15665f09fa6636c71ca609609d0196d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118db9750f6c1476b0284dc77279cd04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a118db9750f6c1476b0284dc77279cd04"></a>
AZStd::vector&lt; AZ::Vector3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_surfacePositionList</b></td></tr>
<tr class="separator:a118db9750f6c1476b0284dc77279cd04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c0678a124eac930308b9012e2babc2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5c0678a124eac930308b9012e2babc2"></a>
AZStd::vector&lt; AZ::Vector3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_surfaceNormalList</b></td></tr>
<tr class="separator:ac5c0678a124eac930308b9012e2babc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d13d041d8b4f30e0eb9cf84c7408bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94d13d041d8b4f30e0eb9cf84c7408bd"></a>
AZStd::vector&lt; <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_surfaceWeightsList</b></td></tr>
<tr class="separator:a94d13d041d8b4f30e0eb9cf84c7408bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8024a48b693061451e7ee2c71f6c75f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8024a48b693061451e7ee2c71f6c75f"></a>
AZStd::vector&lt; AZ::EntityId &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_surfaceCreatorIdList</b></td></tr>
<tr class="separator:aa8024a48b693061451e7ee2c71f6c75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a> stores a collection of surface point data, which consists of positions, normals, and surface tag weights. This class is specifically designed to be used in the following ways.</p>
<p>List construction: <a class="el" href="class_surface_data_1_1_surface_point_list.html#a4987a925d0abcd04304aff3c9ddc2606">StartListConstruction()</a> - This clears the structure, temporarily holds on to the list of input positions, and preallocates the data. <a class="el" href="class_surface_data_1_1_surface_point_list.html#a95a5242ac726419c845c197a7e0f60af">AddSurfacePoint()</a> - Add surface points to the list. They're expected to get added in input position order. <a class="el" href="class_surface_data_1_1_surface_point_list.html#ae42b77ec65615081917265116a3e720a">ModifySurfaceWeights()</a> - Modify the surface weights for the set of input points. FilterPoints() - Remove any generated surface points that don't fit the filter criteria <a class="el" href="class_surface_data_1_1_surface_point_list.html#ae5a8095f6f422a5289cb9bf75e3c48dd">EndListConstruction()</a> - "Freeze" and compact the data.</p>
<p>List usage: Any of the query APIs can be used in any order after the list has finished being constructed.</p>
<p>This class is specifically designed around the usage patterns described above to minimize the amount of allocations and data shifting that needs to occur. There are some tricky bits that need to be accounted for:</p>
<ul>
<li>Tracking which input positions each output point belongs to.</li>
<li>Support for merging similar surface points together, which causes us to keep them sorted for easier comparisons.</li>
<li>Each surface provider will add points in input position order, but we call each provider separately, so the added points will show up like (0, 1, 2, 3), (0, 1, 3), (0, 0, 1, 2, 3), etc. We don't want to call each surface provider per-point, because that incurs a lot of avoidable overhead in each provider.</li>
<li>Output points get optionally filtered out at the very end if they don't match any of the filter tags passed in.</li>
</ul>
<p>The solution is that we always add new surface point data to the end of their respective vectors, but we also keep a helper structure that's a list of lists of sorted indices. We can incrementally re-sort the indices quickly without having to shift all the surface point data around. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aaa086b8f6988b657497bbcf14ddfb26b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SurfaceData::SurfacePointList::SurfacePointList </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const AzFramework::SurfaceData::SurfacePoint &gt;&#160;</td>
          <td class="paramname"><em>surfacePoints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor for creating a <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a> from a list of SurfacePoint data. Primarily used as a convenience for unit tests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surfacePoints</td><td>- A set of SurfacePoint points to store in the <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>. Each point that's passed in will be treated as both the input and output position. The list will be fully constructed and queryable after this runs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a95a5242ac726419c845c197a7e0f60af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::AddSurfacePoint </td>
          <td>(</td>
          <td class="paramtype">const AZ::EntityId &amp;&#160;</td>
          <td class="paramname"><em>entityId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AZ::Vector3 &amp;&#160;</td>
          <td class="paramname"><em>inPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AZ::Vector3 &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AZ::Vector3 &amp;&#160;</td>
          <td class="paramname"><em>normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;&#160;</td>
          <td class="paramname"><em>weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a surface point to the list. To use this method optimally, the points should get added in increasing inPosition index order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entityId</td><td>- The entity creating the surface point. </td></tr>
    <tr><td class="paramname">inPosition</td><td>- The input position that produced this surface point. </td></tr>
    <tr><td class="paramname">position</td><td>- The position of the surface point. </td></tr>
    <tr><td class="paramname">normal</td><td>- The normal for the surface point. </td></tr>
    <tr><td class="paramname">weights</td><td>- The surface tags and weights for this surface point. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae5a8095f6f422a5289cb9bf75e3c48dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::EndListConstruction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End construction of the <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>. After this is called, surface points can no longer be added or modified, and all of the query APIs can start getting used. </p>

</div>
</div>
<a class="anchor" id="aa32927478e0e38611aace5c26fbb48e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::EnumeratePoints </td>
          <td>(</td>
          <td class="paramtype">AZStd::function&lt; bool(size_t inputPositionIndex, const AZ::Vector3 &amp;position, const AZ::Vector3 &amp;normal, const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;surfaceWeights)&gt;&#160;</td>
          <td class="paramname"><em>pointCallback</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerate every surface point and call a callback for each point found. Note: There is no guaranteed order to which the points will be enumerated.  - The method to call with each surface point. </p>

</div>
</div>
<a class="anchor" id="a10333d0761f13bfe6441872f02981bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::EnumeratePoints </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputPositionIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AZStd::function&lt; bool(const AZ::Vector3 &amp;position, const AZ::Vector3 &amp;normal, const <a class="el" href="class_surface_data_1_1_surface_tag_weights.html">SurfaceTagWeights</a> &amp;surfaceWeights)&gt;&#160;</td>
          <td class="paramname"><em>pointCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enumerate every surface point for a given input position and call a callback for each point found. Note: There is no guaranteed order to which the points will be enumerated.  - The input position to get the outputs for.  - The method to call with each surface point. </p>

</div>
</div>
<a class="anchor" id="a2036c188da013aebb1b71642f5e1bf43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AzFramework::SurfaceData::SurfacePoint SurfaceData::SurfacePointList::GetHighestSurfacePoint </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputPositionIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the surface point with the highest Z value for a given input position.  - The input position to get the highest surface point for. </p>
<dl class="section return"><dt>Returns</dt><dd>The surface point with the highest Z value for the given input position. </dd></dl>

</div>
</div>
<a class="anchor" id="ae32f22b2d41a468e5b9548919651c815"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t SurfaceData::SurfacePointList::GetInputPositionSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the total number of input positions. Normally the caller would already be expected to know this, but in the case of using region-based queries, the number of input positions might not be entirely obvious. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of input positions used to generate the outputs. </dd></dl>

</div>
</div>
<a class="anchor" id="a11b09008d60d90539776228bf6c0d604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SurfaceData::SurfacePointList::GetSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the total number of output points generated. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of output points generated. </dd></dl>

</div>
</div>
<a class="anchor" id="a2d89c654274d2141b7d886b543eb2977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t SurfaceData::SurfacePointList::GetSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputPositionIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the total number of output points generated from a specific input position index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputPositionIndex</td><td>- The input position to look for output points for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of output points generated from a specific input position index. </dd></dl>

</div>
</div>
<a class="anchor" id="ac1a2f1e55eb4637f469ffd9d6b292964"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AZ::Aabb SurfaceData::SurfacePointList::GetSurfacePointAabb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the AABB that encapsulates all of the generated output surface points. </p>
<dl class="section return"><dt>Returns</dt><dd>The AABB surrounding all the output surface points. </dd></dl>

</div>
</div>
<a class="anchor" id="ace4a1a6ad587ee176bc18897542f790b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SurfaceData::SurfacePointList::IsEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return whether or not the entire surface point list is empty. </p>
<dl class="section return"><dt>Returns</dt><dd>True if empty, false if it contains any points. </dd></dl>

</div>
</div>
<a class="anchor" id="ad57f1e8c72e9138c93458adc2d5169bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SurfaceData::SurfacePointList::IsEmpty </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputPositionIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return whether or not a given input position index has any output points associated with it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputPositionIndex</td><td>- The input position to look for output points for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if empty, false if there is at least one output point associated with the input position. </dd></dl>

</div>
</div>
<a class="anchor" id="ae42b77ec65615081917265116a3e720a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::ModifySurfaceWeights </td>
          <td>(</td>
          <td class="paramtype">const SurfaceDataRegistryHandle &amp;&#160;</td>
          <td class="paramname"><em>surfaceModifierHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Modify the surface weights for each surface point in the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surfaceModifierHandle</td><td>- The handle to the surface modifier that will modify the surface weights. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4987a925d0abcd04304aff3c9ddc2606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::StartListConstruction </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const AzFramework::SurfaceData::SurfacePoint &gt;&#160;</td>
          <td class="paramname"><em>surfacePoints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start construction of a <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a> from a list of SurfacePoint data. Primarily used as a convenience for unit tests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surfacePoints</td><td>- A set of SurfacePoint points to store in the <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>. The list will remain in the "constructing" state after this is called, so it will still be possible to add/modify points, and <a class="el" href="class_surface_data_1_1_surface_point_list.html#ae5a8095f6f422a5289cb9bf75e3c48dd">EndListConstruction()</a> will still need to be called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a994072350b7b3a180598b45277a76d31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SurfaceData::SurfacePointList::StartListConstruction </td>
          <td>(</td>
          <td class="paramtype">AZStd::span&lt; const AZ::Vector3 &gt;&#160;</td>
          <td class="paramname"><em>inPositions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxPointsPerInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AZStd::span&lt; const <a class="el" href="class_surface_data_1_1_surface_tag.html">SurfaceTag</a> &gt;&#160;</td>
          <td class="paramname"><em>filterTags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start construction of a <a class="el" href="class_surface_data_1_1_surface_point_list.html">SurfacePointList</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inPositions</td><td>- the list of input positions that will be used to generate this list. This list is expected to remain valid until <a class="el" href="class_surface_data_1_1_surface_point_list.html#ae5a8095f6f422a5289cb9bf75e3c48dd">EndListConstruction()</a> is called. </td></tr>
    <tr><td class="paramname">maxPointsPerInput</td><td>- the maximum number of potential surface points that will be generated for each input. This is used for allocating internal structures during list construction and is enforced to be correct. </td></tr>
    <tr><td class="paramname">filterTags</td><td>- optional list of tags to filter the generated surface points by. If this list is provided, every surface point remaining in the list after construction will contain at least one of these tags. If the list is empty, all generated points will remain in the list. The filterTags list is expected to remain valid until <a class="el" href="class_surface_data_1_1_surface_point_list.html#ae5a8095f6f422a5289cb9bf75e3c48dd">EndListConstruction()</a> is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gems/SurfaceData/Code/Include/SurfaceData/SurfacePointList.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 24 2023 21:25:10 for Open 3D Engine SurfaceData Gem API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
